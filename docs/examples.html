<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>Examples of Pushi Usage</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Pushi</span> <span class="project-version">0.1.0-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1  current"><a href="examples.html"><div class="inner"><span>Examples of Pushi Usage</span></div></a></li><li class="depth-1 "><a href="instructions.html"><div class="inner"><span>Push Instructions in Pushi</span></div></a></li><li class="depth-1 "><a href="intro.html"><div class="inner"><span>Introduction to pushi</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>pushi</span></div></div></li><li class="depth-2 branch"><a href="pushi.atoms.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>atoms</span></div></a></li><li class="depth-2 branch"><a href="pushi.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="pushi.encode.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>encode</span></div></a></li><li class="depth-2"><a href="pushi.instruction.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>instruction</span></div></a></li><li class="depth-3"><a href="pushi.instruction.io.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>io</span></div></a></li><li class="depth-2 branch"><a href="pushi.interpreter.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>interpreter</span></div></a></li><li class="depth-2 branch"><a href="pushi.state.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>state</span></div></a></li><li class="depth-2"><a href="pushi.utils.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>utils</span></div></a></li></ul></div><div class="document" id="content"><div class="doc"><div class="markdown"><h1><a href="#examples-of-pushi-usage" name="examples-of-pushi-usage"></a>Examples of Pushi Usage</h1>
<h2><a href="#from-bash" name="from-bash"></a>From Bash</h2>
<p>For this example, we will assume that our dataset and push program have been serialized in JSON format and are stored in a file on disk.</p>
<p>Say the <code>program.json</code> file has the following contents:</p>
<pre><code class="JSON">{
  "code": ["pushi:input_1", "pushi:integer_sub", 2, "pushi:integer_add", "pushi:input_0", "pushi:integer_mult"],
  "arity": 2,
  "output-types": ["integer"]
}
</code></pre>
<p>Say the <code>data.json</code> file has the following contents:</p>
<pre><code class="JSON">[
  {"in1": 0, "in2": 0},
  {"in1": 0, "in2": 1},
  {"in1": 1, "in2": 0},
  {"in1": 1, "in2": 1},
  {"in1": 1, "in2": 2},
  {"in1": 2, "in2": 1},
  {"in1": 2, "in2": 2}
]
</code></pre>
<p>The goal of this example is to show how we get the output of the program in <code>program.json</code> on each data case in <code>data.json</code>.</p>
<h3><a href="#1-preprocess-data" name="1-preprocess-data"></a>1. Preprocess Data</h3>
<p>When we read the JSON files we must remove newlines or there will be parsing errors. Here this is done with <code>tr</code>.</p>
<pre><code class="sh">prog=`cat simple_program.json | tr -d '[:space:]'`
data=`cat data.json | tr -d '[:space:]'`
</code></pre>
<h3><a href="#2-run-pushi" name="2-run-pushi"></a>2. Run Pushi</h3>
<p>We specify the run (<code>-R</code>), dataset (<code>-D</code>), and format (<code>-f</code>) flags in our call to Pushi.</p>
<pre><code class="sh">java -jar pushi.jar -R $prog -D $data -f json
</code></pre>
<p>A JSON blob should be printed to stdout containing an array of outputs for each data case. In this case each array will have a length of one because the program only outputs one value.</p>
<p>The output should look like the following:</p>
<pre><code class="JSON">[[0],[0],[2],[3],[4],[6],[8]]
</code></pre>
<h3><a href="#overview" name="overview"></a>Overview</h3>
<pre><code class="sh">prog=`cat simple_program.json | tr -d '[:space:]'`
data=`cat data.json | tr -d '[:space:]'`

java -jar pushi.jar -R $prog -D $data -f json
</code></pre>
<h2><a href="#from-python" name="from-python"></a>From Python</h2>
<p>Write me!</p>
<h2><a href="#from-clojure" name="from-clojure"></a>From Clojure</h2>
<p>Write me!</p></div></div></div></body></html>