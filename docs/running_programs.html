<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>Running Programs</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Plushi</span> <span class="project-version">0.1.0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="contributing.html"><div class="inner"><span>Contributing</span></div></a></li><li class="depth-1 "><a href="generating_programs.html"><div class="inner"><span>Generating Programs</span></div></a></li><li class="depth-1 "><a href="getting_started.html"><div class="inner"><span>Getting Started</span></div></a></li><li class="depth-1 "><a href="instructions.html"><div class="inner"><span>Instructions</span></div></a></li><li class="depth-1  current"><a href="running_programs.html"><div class="inner"><span>Running Programs</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>plushi</span></div></div></li><li class="depth-2 branch"><a href="plushi.atoms.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>atoms</span></div></a></li><li class="depth-2 branch"><a href="plushi.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2"><a href="plushi.instruction.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>instruction</span></div></a></li><li class="depth-3"><a href="plushi.instruction.io.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>io</span></div></a></li><li class="depth-2 branch"><a href="plushi.interpreter.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>interpreter</span></div></a></li><li class="depth-2 branch"><a href="plushi.state.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>state</span></div></a></li><li class="depth-2"><a href="plushi.utils.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>utils</span></div></a></li></ul></div><div class="document" id="content"><div class="doc"><div class="markdown"><h1><a href="#running-programs" name="running-programs"></a>Running Programs</h1>
<p>Once we have <a href="">generated a program</a>, we can make a <code>run</code> request to the Plushi server to map the execution of the program down a given dataset.</p>
<p>Below is an example of request made through python. All of the required and optional values are described in detail in the sections below.</p>
<pre><code class="py">import json, requests
X = [[0], [1], [2], [3], [4], [5]]
request_body = {
  'action': 'run',
  'code': ["plushi:input_0", 2, "plushi:integer_add"],
  'arity': 1,
  'output-types': ['integer'],
  'dataset': X
}
outputs = requests.post("http://localhost:8075/",
                        json=json.dumps(request_body)).json()
print(oututs)
# [[0], [2], [4], [6], [8], [10]]
</code></pre>
<p>The above example runs a program equivalent to <code>f(x) = 2x</code> on a univariate dataset <code>X</code>. The result of the <code>run</code> request is a json list containing the output of running the program on each record in <code>X</code>.</p>
<h2><a href="#the" name="the"></a>The <code>code</code></h2>
<p>The value for the <code>"code"</code> key should be a flat list containing valid plushi atoms. A valid plushi atom can be any of the following:</p>
<ul>
  <li>an integer</li>
  <li>a float</li>
  <li>a boolean</li>
  <li>a string</li>
</ul>
<p>If a string atom is equal to a name of any instruction (ie <code>"plushi:float_mult"</code>) Plushi will assume that the atom at that position should be the instruction. Otherwise the string (or any other atom) will be assumed to be a literal.</p>
<p>For more information about generating programes, see <a href="">the seperate documentation topic</a>.</p>
<h2><a href="#the" name="the"></a>The <code>arity</code></h2>
<p>An integer denoting how many inputs the program specified by <code>"code"</code> will expect. This is also the number of features in the dataset.</p>
<h2><a href="#the" name="the"></a>The <code>output-types</code></h2>
<p>A list of plushi types to return after program execution. If more than one value of a certain type should be output, that type name should appear in the list multiple times.</p>
<p>For example a program which returns two integer and a string should set the <code>"output-types"</code> value to <code>["integer", "integer", "string"]</code>.</p>
<h2><a href="#the" name="the"></a>The <code>dataset</code></h2>
<p>Plushi is designed to be used inside of inductive machine learning frameworks. Thus, it is expected that each program will need to be run on an entire dataset of inputs for evaluation.</p>
<p>There are two formats for the serialized data that are supported by Plushi.</p>
<h3><a href="#format-1" name="format-1"></a>Format 1</h3>
<p>The value of the <code>"dataset"</code> key can be a list of JSON objects. Each JSON object is one record in the dataset with the keys being feature names and values being feature values.</p>
<pre><code class="json">[
  {"name" : "Alice", "age": 31},
  {"name" : "Bob", "age": 45},
  {"name" : "Cathy", "age": 24}
]
</code></pre>
<h3><a href="#format-2" name="format-2"></a>Format 2</h3>
<p>The value of the <code>"dataset"</code> key can be a list of lists. Each list is one record in the dataset where the position of each value determines which feature it is refering to. Feature names are not included in this format. It is expected that all records are the same length.</p>
<pre><code class="json">[
  ["Alice", 31],
  ["Bob", 45],
  ["Cathy", 24]
]
</code></pre>
<blockquote>
  <p>The dataset should not contain the training label you are trying to predict. Currently Plushi only requires you specify the arity of the program, not the names of which feature to use, and thus Plushi may use your label as an input by mistake.</p>
</blockquote></div></div></div></body></html>